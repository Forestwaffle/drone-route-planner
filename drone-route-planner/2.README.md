# ğŸš Drone Route Planner

ì—¬ëŸ¬ ëŒ€ì˜ ë“œë¡ ì„ ì´ìš©í•´ ë°°ì†¡ ê²½ë¡œë¥¼ ìµœì í™”í•˜ëŠ” í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.
Google OR-Toolsë¥¼ ì´ìš©í•˜ì—¬ ìµœì  ê²½ë¡œë¥¼ íƒìƒ‰í•˜ê³ , Foliumìœ¼ë¡œ ì§€ë„ì— ê²½ë¡œë¥¼ ì‹œê°í™”í•©ë‹ˆë‹¤.

---

## ğŸ“Œ ì£¼ìš” ê¸°ëŠ¥

* **ìµœì  ê²½ë¡œ íƒìƒ‰**: OR-Toolsë¥¼ ì‚¬ìš©í•´ ë“œë¡ ì˜ ìš´í–‰ ê²½ë¡œë¥¼ ìë™ ìµœì í™”
* **ìš´í–‰ ì œì•½ ë°˜ì˜**: ë“œë¡  ìš©ëŸ‰, ìµœëŒ€ ì™•ë³µ ê±°ë¦¬, ìš´í–‰ íšŸìˆ˜, ì†ë„, ëŒ€ê¸°ì‹œê°„ ê³ ë ¤
* **ìŠ¤ì¼€ì¤„ë§**: ìš°ì„ ìˆœìœ„ íë¥¼ ì´ìš©í•´ ê°€ì¥ ë¹¨ë¦¬ ê°€ìš© ê°€ëŠ¥í•œ ë“œë¡ ë¶€í„° í• ë‹¹
* **ì‹œê°í™”**: Foliumì„ ì‚¬ìš©í•´ ê²°ê³¼ ê²½ë¡œë¥¼ HTML ì§€ë„ì— í‘œì‹œ

---


## ğŸ—‚ ì½”ë“œ êµ¬ì¡° 
### 1. ì„¤ì •ê°’

ë“œë¡  ìš´í–‰ ê´€ë ¨ ê¸°ë³¸ê°’ì„ ì •ì˜í•©ë‹ˆë‹¤.

```python
DRONE_COUNT = 3       # ë“œë¡  ìˆ˜
DRONE_CAPACITY = 2    # ë“œë¡  1íšŒ ìµœëŒ€ ë°°ì†¡ ê°€ëŠ¥ ì§€ì  ìˆ˜
MAX_TRIPS = 3         # ë“œë¡  1ëŒ€ë‹¹ ìµœëŒ€ ìš´í–‰ íšŸìˆ˜
MAX_DISTANCE = 1.1    # ë‹¨ì¼ ì™•ë³µ ìµœëŒ€ ê±°ë¦¬ (km)
SPEED = 40            # ë“œë¡  ì†ë„ (km/h)
WAIT_TIME = 0.5       # ì™•ë³µ í›„ ëŒ€ê¸°ì‹œê°„ (ë¶„)
CSV_FILE = "places.csv" # ì…ë ¥ ë°ì´í„° íŒŒì¼
```

---

### 2. ê±°ë¦¬ ê³„ì‚° (Haversine)

ìœ„ê²½ë„ ì¢Œí‘œ ë‘ ì  ì‚¬ì´ì˜ êµ¬ë©´ ê±°ë¦¬ë¥¼ km ë‹¨ìœ„ë¡œ ê³„ì‚°í•©ë‹ˆë‹¤.

```python
def haversine(lat1, lon1, lat2, lon2): ...
```

---

### 3. CSV ë¡œë“œ

`places.csv`ì—ì„œ ìœ„ì¹˜ì™€ ì¥ì†Œëª…ì„ ì½ì–´ì˜µë‹ˆë‹¤.

```python
def load_locations(file_name): ...
# ë°˜í™˜: (locations, names)
```

---

### 4. ê±°ë¦¬ í–‰ë ¬ ìƒì„±

ëª¨ë“  ì§€ì  ê°„ ê±°ë¦¬ë¥¼ 2ì°¨ì› ëŒ€ì¹­ í–‰ë ¬ë¡œ ìƒì„±í•©ë‹ˆë‹¤.

```python
def build_distance_matrix(locations): ...
# ë°˜í™˜: distances[i][j] = ê±°ë¦¬(km)
```

---

### 5. OR-Tools ìµœì  ê²½ë¡œ íƒìƒ‰

íŠ¹ì • ì§€ì  ì§‘í•©ì„ í•œ ë²ˆì˜ ìš´í–‰ìœ¼ë¡œ ë°©ë¬¸í•  ìµœì  ê²½ë¡œë¥¼ ì°¾ìŠµë‹ˆë‹¤.

```python
def find_best_route(subset, distances): ...
# ë°˜í™˜: (route, total_km)
```

---

### 6. ë“œë¡  ê²½ë¡œ ê³„íš

ìš°ì„ ìˆœìœ„ í ê¸°ë°˜ ìŠ¤ì¼€ì¤„ë§ìœ¼ë¡œ ë“œë¡ ë³„ ìš´í–‰ ê³„íšì„ ìƒì„±í•©ë‹ˆë‹¤.

* ì¼ë°˜ ë°°ë‹¬: ê°€ê¹Œìš´ ì§€ì ë“¤ì„ ìš©ëŸ‰ ë‹¨ìœ„ë¡œ ë¬¶ìŒ ë°°ë‹¬
* ì¥ê±°ë¦¬ ë°°ë‹¬: ë‚¨ì€ ì§€ì ì„ ë¨¼ ìˆœì„œëŒ€ë¡œ ë‹¨ë… ì™•ë³µ ë°°ë‹¬

```python
def plan_drone_routes(locations, names, distances): ...
# ë°˜í™˜: drone_routes (ë“œë¡ ë³„ ìš´í–‰ ê¸°ë¡)
```

---

### 7. ê²°ê³¼ ì¶œë ¥

ë“œë¡ ë³„ ìš´í–‰ ë‚´ì—­ê³¼ êµ¬ê°„ë³„ ê±°ë¦¬Â·ì‹œê°„ì„ ì½˜ì†”ì— ì¶œë ¥í•©ë‹ˆë‹¤.

```python
def print_results(drone_routes, names, distances): ...
```

---

### 8. ì§€ë„ ìƒì„± (Folium)

ë“œë¡ ë³„ ìš´í–‰ ê²½ë¡œë¥¼ ìƒ‰ìƒë³„ë¡œ ì‹œê°í™”í•˜ì—¬ HTML íŒŒì¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤.

```python
def create_map(locations, names, drone_routes, out_html="tsp_map.html"): ...
# ì¶œë ¥: tsp_map.html
```

---

### 9. ë©”ì¸ ì‹¤í–‰

ì „ì²´ íë¦„ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

```python
def main():
    locations, names = load_locations(CSV_FILE)
    distances = build_distance_matrix(locations)
    drone_routes = plan_drone_routes(locations, names, distances)
    print_results(drone_routes, names, distances)
    create_map(locations, names, drone_routes)

if __name__ == "__main__":
    main()
```

---

## ğŸ“Š ì‹¤í–‰ ì˜ˆì‹œ (ì½˜ì†” ì¶œë ¥)

```
ë“œë¡  1
  ìš´í–‰ 1: ë³¸ë¶€ -> A -> B -> ë³¸ë¶€, ê±°ë¦¬ 1.05 km, ì‹œê°„ 1.6ë¶„
    ë³¸ë¶€ â†’ A: 0.52 km
    A â†’ B: 0.30 km
    B â†’ ë³¸ë¶€: 0.23 km
ì´ ê±°ë¦¬: 1.05 km, ì´ ì‹œê°„: 1.6ë¶„
```

---

## ğŸŒ ê²°ê³¼ ì§€ë„

* ì‹¤í–‰ í›„ `tsp_map.html` íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.
* ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ì—´ì–´ ë“œë¡  ê²½ë¡œë¥¼ ì‹œê°ì ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ“Œ ì°¸ê³ 

* OR-Tools: [https://developers.google.com/optimization](https://developers.google.com/optimization)
* Folium: [https://python-visualization.github.io/folium](https://python-visualization.github.io/folium)
* Drone Route Planner ì½”ë“œ ë¶„ì„: https://www.notion.so/Drone-Route-Planner-27b781c9f73d80498b39dec8eca571f1?source=copy_link

